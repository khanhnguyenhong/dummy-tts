(self.webpackChunkdummy_tts=self.webpackChunkdummy_tts||[]).push([[297],{2634:()=>{},3268:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n(5043),a=n(3536),s=n(579);const r=()=>{const[t,e]=o.useState(""),[r,l]=o.useState(""),[c,i]=o.useState(""),[p,u]=o.useState(1),[h,d]=o.useState(!1),y=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const n=(0,a.isEmpty)(t)?r:t;localStorage.setItem("preTTVLink",n),e("Fetching "+n),fetch("/api/fetch-data",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:n})}).then((()=>{e("Done")})).catch((()=>{e("Error")}))},g=t=>{const e=n(2908).parse(t.split("?")[1]);console.log(e.story_id),console.log(e.sort_by_ttv),i(e.story_id),u(e.sort_by_ttv)},x=t=>{let{newStoryId:e,newChapter:n}=t;const o="https://tangthuvien.net/get-4-chap?story_id=".concat(e||c,"&sort_by_ttv=").concat(n||p);l(o)};return(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"300px",margin:"auto"},children:[(0,s.jsx)("button",{type:"button",onClick:()=>{const t=localStorage.getItem("preTTVLink");l(t),g(t)},children:"Load Previous Link"}),(0,s.jsx)("textarea",{type:"text",placeholder:"Url",value:r,onChange:t=>{const e=t.target.value;l(e),g(e)}}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,s.jsx)("input",{type:"text",placeholder:"story_id",value:c,onChange:t=>{i(t.target.value),x({newStoryId:t.target.value})}}),(0,s.jsx)("input",{type:"text",placeholder:"chapter",value:p,onChange:t=>{u(t.target.value),x({newChapter:t.target.value})}})]}),(0,s.jsx)("button",{type:"button",onClick:()=>y(),children:"Fetch"}),(0,s.jsx)("button",{type:"button",onClick:()=>(t=>{const e=parseInt(p)+t;u(e),x({newChapter:e});const n="https://tangthuvien.net/get-4-chap?story_id=".concat(c,"&sort_by_ttv=").concat(e);y(n)})(4),children:"Fetch next 4 chapters"}),(0,s.jsx)("button",{type:"button",onClick:()=>{let t=new XMLHttpRequest;t.onreadystatechange=function(){4===this.readyState&&200===this.status&&e(this.responseText)},t.open("GET","/api/retrive-data",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send()},children:"Show data"}),(0,s.jsxs)("button",{type:"button",onClick:()=>d(!h),children:["Sneak: ",h?"Yes":"No"]}),(0,s.jsx)("div",{style:{maxHeight:"400px",overflow:"auto",color:h&&(null===t||void 0===t?void 0:t.length)>20?"rgb(37, 38, 38)":"gray"},dangerouslySetInnerHTML:{__html:t}})]})}}}]);
//# sourceMappingURL=297.82d07e1e.chunk.js.map