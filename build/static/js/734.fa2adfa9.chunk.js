"use strict";(self.webpackChunkdummy_tts=self.webpackChunkdummy_tts||[]).push([[734],{2734:(t,e,n)=>{n.r(e),n.d(e,{default:()=>u});var i=n(5043),s=n(579);function l(t){return t.count?(0,s.jsxs)("p",{children:["Remaining Item(s): ",t.count]}):(0,s.jsx)("p",{children:"No item"})}class r extends i.Component{constructor(t){super(t),this.state={urlList:[],urlNameList:[]}}fetchData(){let t=document.getElementById("input-url").value;fetch("/api/fetch-data",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:t})})}_splitByTag(t,e){let n=[];return t.forEach((t=>{let i=(t+"").split("<"+e);i.forEach((t=>{t=t.split("</"+e+">")[0]})),n=n.concat(i)})),n}_reFineHtml(t){let e=[(t&&t.length?t+"":"")+""];["p","h1","h2","h3","h4","h5","pre"].forEach((t=>{e=this._splitByTag(e,t)}));let n="";return e.forEach((t=>n+='<p style="color: white">'+t.split("<")[0].split(">")[1]+"</p>")),["undefined",null].forEach((t=>n=n.replace(t,""))),n}retriveText(){let t=new XMLHttpRequest,e=this;t.onreadystatechange=function(){4===this.readyState&&200===this.status&&(document.getElementById("demo").innerHTML=e._reFineHtml(this.responseText))},t.open("GET","/api/retrive-data",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send()}retrivePage(){let t=new XMLHttpRequest;t.onreadystatechange=function(){4===this.readyState&&200===this.status&&(document.getElementById("demo").innerHTML=this.responseText)},t.open("GET","/api/retrive-data",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send()}constructUrlList(){this.setState({urlList:document.getElementById("url-list").value.split("\n")}),document.getElementById("url-list").value=""}refineUrlListFromPage(){const t=document.getElementsByTagName("a"),e=document.getElementById("input-including-text").value;this.setState({urlList:[],urlNameList:[]});let n=[],i=[];for(let l=0;l<t.length;l++){let e=t[l];try{n.push(e.href),i.push(e.innerHTML)}catch(s){console.log("error while refining a tag",s)}}document.getElementById("url-list").value="";for(let l=0;l<n.length;l++)i[l].indexOf(e)>=0&&(this.state.urlNameList.push(i[l]),this.state.urlList.push(n[l]),document.getElementById("url-list").value+=n[l]+"\n")}fetchFirstItem(){if(!this.state.urlList.length)return void this.setState();const t=document.getElementById("pre-url").value.trim();document.getElementById("input-url").value=t+this.state.urlList[0],this.state.urlList.splice(0,1),this.setState({urlList:this.state.urlList}),this.fetchData()}render(){return(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("a",{className:"full-width",href:"\\",children:(0,s.jsx)("button",{type:"button",className:"full-width",children:"Home"})}),(0,s.jsx)("input",{type:"text",placeholder:"Pre-url",id:"pre-url"}),(0,s.jsx)("textarea",{placeholder:"Url list",id:"url-list"}),(0,s.jsx)(l,{count:this.state.urlList.length}),(0,s.jsx)("button",{type:"button",onClick:()=>this.constructUrlList(),children:"constructUrlList"}),(0,s.jsx)("button",{type:"button",onClick:()=>this.fetchFirstItem(),children:"Fetch next item"}),(0,s.jsx)("div",{id:"url-list-container"}),(0,s.jsx)("input",{type:"text",name:"url",placeholder:"Fetching url",id:"input-url"}),(0,s.jsx)("button",{type:"button",onClick:()=>this.fetchData(),children:"Fetch data"}),(0,s.jsx)("button",{type:"button",onClick:()=>this.retriveText(),children:"Retrieve text"}),(0,s.jsx)("button",{type:"button",onClick:()=>this.retrivePage(),children:"Retrieve page"}),(0,s.jsxs)("div",{className:"full-width",children:[(0,s.jsx)("input",{type:"text",placeholder:"Including text",id:"input-including-text"}),(0,s.jsx)("button",{type:"button",onClick:()=>this.refineUrlListFromPage(),children:"Refine Url(s)"})]}),(0,s.jsx)("div",{id:"demo"})]})}}const u=r}}]);
//# sourceMappingURL=734.fa2adfa9.chunk.js.map