{"version":3,"file":"static/js/734.fa2adfa9.chunk.js","mappings":"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","sources":["components/LinkFetcher.js"],"sourcesContent":["import React from \"react\";\n\nfunction RemainingItems(props) {\n  if (props.count) {\n    return <p>Remaining Item(s): {props.count}</p>;\n  } else {\n    return <p>No item</p>;\n  }\n}\n\nclass LinkFetcher extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      urlList: [],\n      urlNameList: [],\n    };\n  }\n\n  fetchData() {\n    let url = document.getElementById(\"input-url\").value;\n    fetch(\"/api/fetch-data\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        url,\n      }),\n    });\n  }\n\n  _splitByTag(_arr, _tag) {\n    let result = [];\n    _arr.forEach((e) => {\n      let processingArr = (e + \"\").split(\"<\" + _tag);\n      processingArr.forEach((str) => {\n        str = str.split(\"</\" + _tag + \">\")[0];\n      });\n      result = result.concat(processingArr);\n    });\n    return result;\n  }\n\n  _reFineHtml(htmlString) {\n    const tags = [\"p\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"pre\"];\n    const junks = [\"undefined\", null];\n\n    let reFinedHtml = htmlString && htmlString.length ? htmlString + \"\" : \"\";\n    let refiningArr = [reFinedHtml + \"\"];\n    tags.forEach((tag) => {\n      refiningArr = this._splitByTag(refiningArr, tag);\n    });\n\n    let result = \"\";\n    refiningArr.forEach(\n      (str) =>\n      (result +=\n        '<p style=\"color: white\">' + str.split(\"<\")[0].split(\">\")[1] + \"</p>\")\n    );\n    junks.forEach((j) => (result = result.replace(j, \"\")));\n\n    return result;\n  }\n\n  retriveText() {\n    let xhttp = new XMLHttpRequest();\n    let that = this;\n    xhttp.onreadystatechange = function () {\n      if (this.readyState === 4 && this.status === 200) {\n        document.getElementById(\"demo\").innerHTML = that._reFineHtml(\n          this.responseText\n        );\n      }\n    };\n    xhttp.open(\"GET\", \"/api/retrive-data\", true);\n    xhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n    xhttp.send();\n  }\n\n  retrivePage() {\n    let xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function () {\n      if (this.readyState === 4 && this.status === 200) {\n        document.getElementById(\"demo\").innerHTML = this.responseText;\n      }\n    };\n    xhttp.open(\"GET\", \"/api/retrive-data\", true);\n    xhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n    xhttp.send();\n  }\n\n  constructUrlList() {\n    this.setState({\n      urlList: document.getElementById(\"url-list\").value.split(\"\\n\"),\n    });\n\n    document.getElementById(\"url-list\").value = \"\";\n  }\n\n  refineUrlListFromPage() {\n    const aTags = document.getElementsByTagName(\"a\");\n    const includingText = document.getElementById(\"input-including-text\").value;\n    this.setState({\n      urlList: [],\n      urlNameList: [],\n    });\n\n    let tempUrls = [],\n      tempNames = [];\n    for (let i = 0; i < aTags.length; i++) {\n      let a = aTags[i];\n      try {\n        tempUrls.push(a.href);\n        tempNames.push(a.innerHTML);\n      } catch (error) {\n        console.log(\"error while refining a tag\", error);\n      }\n    }\n\n    document.getElementById(\"url-list\").value = \"\";\n    for (let i = 0; i < tempUrls.length; i++) {\n      if (tempNames[i].indexOf(includingText) >= 0) {\n        this.state.urlNameList.push(tempNames[i]);\n        this.state.urlList.push(tempUrls[i]);\n        document.getElementById(\"url-list\").value += tempUrls[i] + \"\\n\";\n      }\n    }\n  }\n\n  fetchFirstItem() {\n    if (!this.state.urlList.length) {\n      this.setState();\n      return;\n    }\n    const preUrl = document.getElementById(\"pre-url\").value.trim();\n    document.getElementById(\"input-url\").value = preUrl + this.state.urlList[0];\n\n    this.state.urlList.splice(0, 1);\n    this.setState({ urlList: this.state.urlList });\n\n    this.fetchData();\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <a className=\"full-width\" href=\"\\\">\n          <button type=\"button\" className=\"full-width\">\n            Home\n          </button>\n        </a>\n\n        <input type=\"text\" placeholder=\"Pre-url\" id=\"pre-url\" />\n        <textarea placeholder=\"Url list\" id=\"url-list\"></textarea>\n\n        <RemainingItems count={this.state.urlList.length} />\n\n        <button type=\"button\" onClick={() => this.constructUrlList()}>\n          constructUrlList\n        </button>\n        <button type=\"button\" onClick={() => this.fetchFirstItem()}>\n          Fetch next item\n        </button>\n\n        <div id=\"url-list-container\"></div>\n\n        <input\n          type=\"text\"\n          name=\"url\"\n          placeholder=\"Fetching url\"\n          id=\"input-url\"\n        />\n\n        <button type=\"button\" onClick={() => this.fetchData()}>\n          Fetch data\n        </button>\n        <button type=\"button\" onClick={() => this.retriveText()}>\n          Retrieve text\n        </button>\n        <button type=\"button\" onClick={() => this.retrivePage()}>\n          Retrieve page\n        </button>\n\n        <div className=\"full-width\">\n          <input\n            type=\"text\"\n            placeholder=\"Including text\"\n            id=\"input-including-text\"\n          />\n          <button type=\"button\" onClick={() => this.refineUrlListFromPage()}>\n            Refine Url(s)\n          </button>\n        </div>\n\n        <div id=\"demo\"></div>\n      </div>\n    );\n  }\n}\n\nexport default LinkFetcher;\n"],"names":["RemainingItems","props","count","_jsxs","children","_jsx","LinkFetcher","React","constructor","super","this","state","urlList","urlNameList","fetchData","url","document","getElementById","value","fetch","method","headers","Accept","body","JSON","stringify","_splitByTag","_arr","_tag","result","forEach","e","processingArr","split","str","concat","_reFineHtml","htmlString","refiningArr","length","tag","j","replace","retriveText","xhttp","XMLHttpRequest","that","onreadystatechange","readyState","status","innerHTML","responseText","open","setRequestHeader","send","retrivePage","constructUrlList","setState","refineUrlListFromPage","aTags","getElementsByTagName","includingText","tempUrls","tempNames","i","a","push","href","error","console","log","indexOf","fetchFirstItem","preUrl","trim","splice","render","className","type","placeholder","id","onClick","name"],"sourceRoot":""}